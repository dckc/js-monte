<!DOCTYPE html>
<html>
<head>
  <title>Kernel Monte Test Notes</title>
  <meta charset="utf-8" />

  <script type="text/javascript" src="jspm_packages/system.js"></script>
  <script type="text/javascript" src="config.js"></script>
  <script src="doctest/doctestjs-master/doctest.js"></script>
  <link href="doctest/doctestjs-master/doctest.css" rel="stylesheet" />
</head>
<body class="autodoctest">

<h1>Kernel Monte Test Notes</h1>

<h2>Preface: Doctesting</h2>

<p>Use <code>Makefile</code> to
install <a href="http://doctestjs.org/">Doctest.js</a>
in <code>doctestjs-master/</code>.</p>

<pre class="test">
print(1 + 1);
// => 2
</pre>

<p>Bytes are represented with a bias of 32 (presumably so that they're
printable). So '*' is 10, i.e. LiteralExpr. and '&' is 6, i.e. int.
Integers are variable length. 't' is 42 (LSB is the sign bit).</p>

<pre class="test">
var actual = System.import('kernel').then(function(k) {
  return k.load("*&t");
});

printResolved(actual);
// => [{is: "int", val: 42}]
</pre>

<pre class="test">
var actual = System.import('kernel').then(function(k) {
  return k.load("-'\"/;+#!x  *&t.+#'traceln##run'!+#!x");
});

printResolved(actual);
/* =>
[
  {
    is: "seq",
    items: [
      {
        expr: {is: "int", val: 42},
        guard: null,
        is: "def",
        pat: {guard: null, name: "x", pt: "final"}
      },
      {
        args: [{is: "noun", name: "x"}],
        is: "call",
        target: {is: "noun", name: "traceln"},
        verb: "run"
      }
    ]
  }
]
*/
</pre>

</body>
</html>
